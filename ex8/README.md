# 点検簿の作成

## 実習環境の確認

```
% which latex
/usr/local/texlive/bin/latex
```

となることを確認してください。

## バックグラウンド

今年度から居室を移動し、日々の点検をつけることになった。
エクセルで表を作ってもよかったが、曜日と祝日は自動で
入力したかったのでlatex原稿をプログラムで作り、
TeX原稿からpdfファイルを作りそれを印刷して点検簿と
することにした。

## コマンドラインインターフェイスの設計

月ごとの点検簿なので、何月の点検簿を作るのかの情報を
プログラムにあたえる必要がある。ここでは

- なにも指定しなければプログラム実行時の月を使う
- 引数がひとつ指定されていればその年の、指定された月を使う
- 引数がふたつ指定されていれば、第1引数を月、第2引数を年として使う

ものを作った。

## 走らせかた

日本の祝日情報は
[JPHoliday](https://github.com/Lalcs/jpholiday)モジュールを
使っているのでまずそれをセットする:

```
pip3 install jpholiday --user
```

セット後

```
./tenkenbo.py3
```
とすると、今月の点検簿TeXファイルとPDF(tenkenbo.2025-06.pdf)ができる。

## 動作

プログラムは以下のように動作する。

1. TeX原稿を作る
2. TeX原稿をplatexコマンドで処理してdviファイルを作る
3. dviファイルをdvipdfmxでpdfファイルを作る
4. dviファイルを作るさいに作成されるログその他必要ないファイルを削除する
(TeX原稿はあとで使うかもしれないので残しておく)。

